-- DROP
DROP TABLE IF EXISTS CHAT;
DROP TABLE IF EXISTS MESSAGE;
DROP TABLE IF EXISTS MESSAPROCESSING;
DROP TABLE IF EXISTS USERS;
DROP TABLE IF EXISTS USERINCHAT;

-- CREATE
CREATE TABLE CHAT(ID INT PRIMARY KEY, NAME VARCHAR(50));
CREATE TABLE MESSAGE(ID INT PRIMARY KEY, SENTBYUSERWITHID INT, TEXT VARCHAR(255), SENDINGDATE TIMESTAMP);
CREATE TABLE MESSAGEPROCESSING(ID INT PRIMARY KEY, IDCHAT INT, IDMESSAGE INT);
CREATE TABLE USERS(ID INT PRIMARY KEY, NAME VARCHAR(50), LOGIN VARCHAR(50), PASSWORD VARCHAR(50));
CREATE TABLE USERINCHAT(ID INT PRIMARY KEY, USERID INT, CHATID INT);

-- INSERT
INSERT INTO CHAT VALUES(1, 'My best friends');
INSERT INTO MESSAGE VALUES(1, 1, 'Hello', GETDATE());
INSERT INTO MESSAGEPROCESSING VALUES(1, 1,1);
INSERT INTO USERS VALUES(1, 'Vasya', 'VASYA2001', '12345');
INSERT INTO USERINCHAT VALUES(1, 1, 1);